{% extends "top_base.html" %}

{% block css_block %}
{{ super() }}
<link rel="stylesheet"
      href="{{ url_for('static', filename='css/shared/inputs.css') }}">
<link rel="stylesheet"
      href="{{ url_for('static', filename='css/productmanagement.css') }}">
{% endblock %}

{% block content_block %}
<h1> Product management </h1>

<productlist>
    <div class="product_tab">
        {% for p in plist %}
        <a class="product_link" onclick="open_product(event, '{{ p.id }}')">
            {{ p.name }}
        </a>
        {% endfor %}
    </div>

    <div class="product_info">
        <form action="{{ url_for('admin.pmhandler') }}" method="POST">
            <p>Product Name:</p>
            <label class="in">
                <input type="text"
                       id="pinfo_name"
                       placeholder="&nbsp;"
                       name="pname"
                       required>
                <span id="pname_label" class="label">Current Product Name: </span>
                <span id="pname_border" class="border"></span>
            </label>
            
            <p>Product Description: </p>
            <label class="in text">
                <textarea id="pinfo_des" placeholder="&nbsp;" name="pdescription"></textarea>
                <span id="pdes_label" class="label">Current Product Description: </span>
                <span id="pdes_border" class="border"></span>
            </label>

            <p>Price (per KG)</p>
            <label class="in">
                <input type="currency"
                       id="pinfo_pkg"
                       name="ppkg"
                       placeholder="&nbsp;">
                <span id="ppkg_label" class="label">Current Product Price (per KG): </span>
                <span id="ppkg_border" class="border"></span>
            </label>

            <p>Price (per BOX)</p>
            <label class="in">
                <input type="currency"
                       id="pinfo_box"
                       name="ppbox"
                       placeholder="&nbsp;">
                <span id="pbox_label" class="label">Current Product Price (per BOX): </span>
                <span id="pbox_border" class="border"></span>
            </label>
            
            <button class="reg_btn hide" type="submit" name="update" value="update">
                Update
            </button>

            <br>
            
            <div>
                <button id="beforedelete" class="reg_btn del_btn" type="button" onclick="confirmDelete(event)">Delete</button>
                <button id="canceldelete" class="reg_btn hide" type="button" onclick="cancelDelete()">Cancel</button>           
                <button id="delete" class="reg_btn del_btn hide" type="submit" name="update" value="delete">!DELETE!</button>
            </div>

        </form>

    </div>
    
</productlist>
{% endblock %}

{% block js_block %}
{{ super() }}
<script>
 var url_gpmf = "{{ url_for('admin.gpmf') }}";
</script>
<script type="text/javascript"
        src="{{ url_for('static', filename='js/productmanagement.js') }}"></script>
{% endblock %}
